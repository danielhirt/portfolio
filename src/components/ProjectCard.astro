---
import { Image } from 'astro:assets';
import type { CollectionEntry } from 'astro:content';

type Props = {
	project: CollectionEntry<'projects'>;
};

const { project } = Astro.props;
const { title, description, heroImage, tags, github, demo } = project.data;
---

<article class="group bg-white dark:bg-bg-dark-elevated border border-gray-light dark:border-gray-dark rounded-xl overflow-hidden hover:shadow-lg transition-shadow">
	<a href={`/projects/${project.id}/`} class="block">
		{heroImage && (
			<div class="aspect-video overflow-hidden bg-gray-light">
				<Image
					src={heroImage}
					alt={title}
					width={720}
					height={405}
					class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
				/>
			</div>
		)}
		<div class="p-6">
			<div class="flex items-center justify-between mb-2">
				<h3 class="text-xl font-bold text-gray-dark dark:text-text-dark group-hover:text-accent transition-colors">
					{title}
				</h3>
				<span class:list={[
					"text-xs px-2 py-0.5 rounded-full font-medium shrink-0 ml-3",
					github
						? "bg-green-500/15 text-green-600 dark:bg-green-400/15 dark:text-green-400 border border-green-500/20 dark:border-green-400/20"
						: "bg-gray-light dark:bg-bg-dark text-gray dark:text-text-dark-muted border border-gray-light dark:border-gray-dark"
				]}>
					{github ? "Open Source" : "Closed Source"}
				</span>
			</div>
			<p class="text-gray dark:text-text-dark-muted mb-4 line-clamp-4">{description}</p>
			{tags.length > 0 && (
				<div class="flex flex-wrap gap-2">
					{tags.slice(0, 4).map((tag) => (
						<span class="text-xs px-2 py-1 rounded-full bg-gradient-to-r from-accent/10 to-accent-light/15 text-accent dark:from-accent/20 dark:to-accent-light/25 dark:text-accent-light border border-accent/15 dark:border-accent-light/20">
							{tag}
						</span>
					))}
				</div>
			)}
		</div>
	</a>
</article>
